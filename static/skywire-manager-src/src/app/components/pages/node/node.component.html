<app-actions></app-actions>
<div *ngIf="!node" class="flex-column full-height full-width">
  <div>
    <app-tab-bar
      [titleParts]="titleParts"
      [tabsData]="tabsData"
      [selectedTabIndex]="selectedTabIndex"
      [showUpdateButton]="false"
    ></app-tab-bar>
  </div>
  <app-loading-indicator *ngIf="!notFound"></app-loading-indicator>
  <div *ngIf="notFound" class="full-width full-height flex not-found-label">
    <div>
      <mat-icon [inline]="true">error</mat-icon>
      {{ 'node.not-found' | translate }}
    </div>
  </div>
</div>

<div class="row" *ngIf="node">
  <div class="col-12">
    <app-tab-bar
      [titleParts]="titleParts"
      [tabsData]="tabsData"
      [selectedTabIndex]="selectedTabIndex"
      [secondsSinceLastUpdate]="secondsSinceLastUpdate" 
      [showLoading]="updating"
      [showAlert]="errorsUpdating"
      [refeshRate]="storageService.getRefreshTime()"
      (refreshRequested)="refresh(0)"
    ></app-tab-bar>
  </div>
  <div
    class="col-12"
    [ngClass]="{'col-xl-8': !showingInfo}"
  >
    <div class="d-flex flex-column h-100">
      <router-outlet></router-outlet>
    </div>
  </div>
  <div
    class="d-none"
    [ngClass]="{'col-4 d-xl-block': !showingInfo}"
  >
    <app-node-info-content *ngIf="!showingInfo" [nodeInfo]="node"></app-node-info-content>
  </div>
</div>
