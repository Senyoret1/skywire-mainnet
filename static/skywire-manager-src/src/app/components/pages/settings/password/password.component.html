<div [ngClass]="{ 'container-elevated-white': !forInitialConfig }">
  <div class="help-container">
    <mat-icon [inline]="true" [matTooltip]="(forInitialConfig ? 'settings.password.initial-config-help' : 'settings.password.help') | translate">
      help
    </mat-icon>
  </div>
  <form [formGroup]="form">
    <mat-form-field *ngIf="!forInitialConfig">
      <input
        type="password"
        formControlName="oldPassword"
        [placeholder]="'settings.password.old-password' | translate"
        maxlength="64"
        matInput
      >
      <mat-error>
        {{ 'settings.password.errors.old-password-required' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input
        type="password"
        formControlName="newPassword"
        [placeholder]="(forInitialConfig ? 'settings.password.initial-config.password' : 'settings.password.new-password') | translate"
        maxlength="64"
        matInput
        #firstInput
      >
      <mat-error>
        {{ 'settings.password.errors.new-password-error' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input
        type="password"
        formControlName="newPasswordConfirmation"
        [placeholder]="(forInitialConfig ? 'settings.password.initial-config.repeat-password' : 'settings.password.repeat-password') | translate"
        maxlength="64"
        matInput
      >
      <mat-error>
        {{ 'settings.password.errors.passwords-not-match' | translate }}
      </mat-error>
    </mat-form-field>

    <app-button
      [ngClass]="{ 'mt-2 app-button': !forInitialConfig, 'float-right': forInitialConfig }"
      color="primary"
      type="mat-raised-button"
      [disabled]="!form.valid"
      (action)="changePassword()"
      #button
    >
      {{ (forInitialConfig ? 'settings.password.initial-config.set-password': 'settings.change-password') | translate }}
    </app-button>
  </form>
</div>
